
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#general-api-request-structure" class="toc-h1 toc-link" data-title="General API Request Structure">General API Request Structure</a>
          </li>
          <li>
            <a href="#console-endpoints" class="toc-h1 toc-link" data-title="Console Endpoints">Console Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#new-user-registration-create_console" class="toc-h2 toc-link" data-title="Console Endpoints">New User Registration (create_console)</a>
                  </li>
                  <li>
                    <a href="#gifty-campaign-creation-create_campaign" class="toc-h2 toc-link" data-title="Console Endpoints">Gifty Campaign Creation (create_campaign)</a>
                  </li>
                  <li>
                    <a href="#add-user-to-campaign-add_user" class="toc-h2 toc-link" data-title="Console Endpoints">Add User to Campaign (add_user)</a>
                  </li>
                  <li>
                    <a href="#delete-user-from-campaign-remove_campaign_user" class="toc-h2 toc-link" data-title="Console Endpoints">Delete User from Campaign (remove_campaign_user)</a>
                  </li>
                  <li>
                    <a href="#default-campaign-gifty-assign_campaign_default" class="toc-h2 toc-link" data-title="Console Endpoints">Default Campaign Gifty(assign_campaign_default)</a>
                  </li>
                  <li>
                    <a href="#update-gifty-update_gifty" class="toc-h2 toc-link" data-title="Console Endpoints">Update Gifty (update_gifty)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#do-not-use-errors" class="toc-h1 toc-link" data-title="DO NOT USE/Errors">DO NOT USE/Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Gifty API! You can use our API to access Gifty API endpoints.</p>

<p>This example API documentation page was created with <a href="https://github.com/tripit/slate">Slate</a>. Feel free to edit it and use it as a base for your own API&#39;s documentation.</p>
<h1 id='general-api-request-structure'>General API Request Structure</h1>
<blockquote>
<p>Gifty has a single endpoint for all requests. Contains following information. </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console id information]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[request type]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[e.g. -J186Gs889iH_s]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"[extra_information]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email/phone]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gifty has a single endpoint which contains all information necessary for the server to respond appropriately.</p>

<p>Requests are written to <code>https://ip-gifty-staging.firebaseio.com/</code> + <code>api/v1/requests/[unique_key]</code> containing the appropriate information.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>Type of request (ie. <code>create_campaign</code>)</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>Tells the server where to leave its response (i.e. /users/[user_uid]/<code>[unique_key]</code>/)</td>
</tr>
<tr>
<td>bundle</td>
<td>Extraneous information associated with request <code>type</code></td>
</tr>
</tbody></table>

<aside class="notice">
You must include all parameters to ensure a successful response.
</aside>

<aside class="success">
Server will need to respond with all parameters to ensure console compliance.
</aside>
<h1 id='console-endpoints'>Console Endpoints</h1><h2 id='new-user-registration-create_console'>New User Registration (create_console)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create_console"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/[user_uid]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Assign a newly registered <strong>user</strong> a <strong>console_id</strong></p>

<p>A new user registration should AUTOMATICALLY trigger the required response.
The <code>create_console</code> will be available as an additional convenience API call.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>create_console</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/users/[user_uid]</td>
</tr>
</tbody></table>

<blockquote>
<p>Server Response: /users</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="p">,</span><span class="w">
  </span><span class="s2">"[user_uid]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='server-response'>Server Response</h3>
<blockquote>
<p>DEFAULT_CONSOLE_JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"active_campaigns"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"[default_campaign_uid]"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"agreements"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"[default_agreement_uid]"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"campaigns"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                         </span><span class="err">/*This</span><span class="w"> </span><span class="err">holds</span><span class="w"> </span><span class="err">ALL</span><span class="w"> </span><span class="err">campaigns</span><span class="w"> </span><span class="err">related</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">console_id*/</span><span class="w">
    </span><span class="s2">"[default_campaign_uid]"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"console_creation_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1498869747</span><span class="p">],</span><span class="w"> </span><span class="err">/*Unix</span><span class="w"> </span><span class="err">Time</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">console</span><span class="w"> </span><span class="err">creation*/</span><span class="w">
  </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Console One"</span><span class="p">,</span><span class="w">                 </span><span class="err">/*Name</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">displayed</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">Console</span><span class="w"> </span><span class="err">Sidebar.</span><span class="w"> </span><span class="err">Input</span><span class="w"> </span><span class="err">yet</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">determined*/</span><span class="w">
  </span><span class="s2">"notifications"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"payment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"cad"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"cents"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"unique_console_id"</span><span class="p">]</span><span class="w">   </span><span class="err">/*Matches</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">console_id</span><span class="w"> </span><span class="err">which</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">nested</span><span class="w"> </span><span class="err">in.</span><span class="w"> </span><span class="err">Facilitates</span><span class="w"> </span><span class="err">dashboard</span><span class="w"> </span><span class="err">queries*/</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/users/</td>
<td>{..., [user_uid]: &quot;[console_id]&quot; } <br> Assigns the console to the user.</td>
</tr>
<tr>
<td>/consoles/[console_id]</td>
<td>{DEFAULT_CONSOLE_JSON} <br> Contains minimum requirements for console. Server will assign a [default_agreement_uid] and [default_campaign_uid]</td>
</tr>
</tbody></table>

<blockquote>
<p>Initialize the Default Campaign</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Your First Campaign!"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"campaign_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">   
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The server will also need to initialize the <code>[default_campaign_uid]</code> with the following Params:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Your First Campaign!</td>
</tr>
<tr>
<td>campaign_types</td>
<td>Initialize w/ type <code>{email: true, phone: false}</code></td>
</tr>
</tbody></table>
<h2 id='gifty-campaign-creation-create_campaign'>Gifty Campaign Creation (create_campaign)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create_campaign"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/consoles/[console_id]/campaigns/[campaign_uid]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[campaign_name]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email or phone]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a new campaign of type <strong>email</strong> or <strong>phone</strong> that is assigned to a <strong>console</strong>:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>create_campaign</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/consoles/[console_id]/campaigns/[campaign_uid]</td>
</tr>
<tr>
<td>bundle</td>
<td>Name: Campaign Name, type: email/phone</td>
</tr>
</tbody></table>

<p>**Note: Future changes will allow ability for type email AND phone.</p>

<blockquote>
<p>Data written to [console_id]/active_campaigns</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="p">,</span><span class="w">
  </span><span class="s2">"[campaign_uid]"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Data written to [console_id]/campaigns </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="p">,</span><span class="w">
  </span><span class="s2">"[campaign_uid]"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>DEFAULT_CAMPAIGN_JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"[campaign_name]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"campaign_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[boolean]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[boolean"</span><span class="w">
    </span><span class="p">}</span><span class="w">   
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='server-response-2'>Server Response</h3>
<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[console_id]/active_campaigns</td>
<td>{..., [campaign_uid]: true } <br> Informs console that <code>new campaign</code> is <code>active</code> ** MAY BE REDUNDANT</td>
</tr>
<tr>
<td>[console_id]/campaigns</td>
<td>{..., [campaign_uid]: true }  <br>  List of all campaigns - active or inactive ** MAY BE REDUNDANT</td>
</tr>
<tr>
<td>campaigns/[campaign_uid]</td>
<td>{[DEFAULT_CAMPAIGN_JSON}  <br>  Initialize the campaign with default campaign Meta</td>
</tr>
</tbody></table>
<h2 id='add-user-to-campaign-add_user'>Add User to Campaign (add_user)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/campaigns/[campaign_uid]/[type]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[username]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email or phone]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email_address or phone_number]"</span><span class="p">,</span><span class="w"> </span><span class="err">//nj.ho@hotmail.com</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="mi">403-589-3536</span><span class="w">
      </span><span class="s2">"campaign_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[campaign_uid]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a new user to a campaign.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>add_user</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/campaigns/[campaign_uid]/[type]</td>
</tr>
<tr>
<td>bundle</td>
<td>Name: username, user_type: email or phone, value: email address or phone number, campaign_uid: campaign_uid</td>
</tr>
</tbody></table>

<blockquote>
<p>Data written to /campaigns/[campaign_uid]/emails</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[username]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email_address]"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Data written to /campaigns/[campaign_uid]/phone</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[username]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[phone_number]"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='server-response-3'>Server Response</h3>
<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/campaigns/[campaign_uid]/emails</td>
<td>{ &quot;name&quot;: [username], &quot;value&quot;: [email_address] }<br> Written to this location if <code>user_type: email</code></td>
</tr>
<tr>
<td>/campaigns/[campaign_uid]/phone</td>
<td>{ &quot;name&quot;: [username], &quot;value&quot;: [phone_number] }  <br>  Written to this location if <code>user_type: phone</code></td>
</tr>
</tbody></table>

<aside class="notice">
Note that both /emails and /phone are both Arrays! Each user is an `Object` in an Array!
ie. [{name, value}, {name, value}]
</aside>
<h2 id='delete-user-from-campaign-remove_campaign_user'>Delete User from Campaign (remove_campaign_user)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"remove_campaign_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/campaigns/[campaign_uid]/[type]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[email/phone]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[key/index in /campaigns/[campaign_uid]/[type] to be removed]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"campaign_uid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Assigns a new user to a campaign.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>remove_campaign_user</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/campaigns/[campaign_uid]/[type]</td>
</tr>
<tr>
<td>bundle</td>
<td>Name: username, user_type: email or phone, campaign_uid: campaign_uid</td>
</tr>
</tbody></table>
<h3 id='server-response-4'>Server Response</h3>
<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/campaigns/[campaign_uid]/emails</td>
<td>Remove <code>[index]</code> from <code>Array</code> at endpoint</td>
</tr>
<tr>
<td>/campaigns/[campaign_uid]/phone</td>
<td>Remove <code>[index]</code> from <code>Array</code> at endpoint</td>
</tr>
</tbody></table>

<aside class="notice">
Note that both /emails and /phone are both Arrays! Each user is an Object in an Array!
ie. [{name, value}, {name, value}]
</aside>
<h2 id='default-campaign-gifty-assign_campaign_default'>Default Campaign Gifty(assign_campaign_default)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assign_campaign_default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/campaigns/[campaign_uid]/[default_email_gift or default_phone_value]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"campaign_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[campaign_uid]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[default_email_gift/default_phone_value]"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[gifty_uid (type default_email_gift) or cents (default_phone_value)]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Assigns a <code>default_email_gift</code> or a <code>default_phone_value</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>assign_campaign_default</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/campaigns/[campaign_uid]/[default_email_gift or default_phone_value]</td>
</tr>
<tr>
<td>bundle</td>
<td>campaign_uid: campaign_uid, type: [default_email_gift/default_phone_value], &quot;value&quot;: [gifty_uid (type default_email_gift] [cents (default_phone_value)]</td>
</tr>
</tbody></table>
<h3 id='server-response-5'>Server Response</h3>
<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/campaigns/[campaign_uid]/[default_email_gift]</td>
<td>Update with <code>[gifty_uid]</code></td>
</tr>
<tr>
<td>/campaigns/[campaign_uid]/[default_phone_value]</td>
<td>Update with <code>[cents]</code></td>
</tr>
</tbody></table>
<h2 id='update-gifty-update_gifty'>Update Gifty (update_gifty)</h2>
<blockquote>
<p>This is the JSON sent to `api/v1/requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"console_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[console_id]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update_gifty"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wait_for_response_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/consoles/[console_id]/giftys/[gifty_uid]"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"gifty_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[gifty_id/null]"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">Gifty</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[new or update]"</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[gifty_object]"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">complete</span><span class="w"> </span><span class="err">Gifty</span><span class="w"> </span><span class="err">Object</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">yet</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">defined</span><span class="w"> </span><span class="err">at</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">point</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates an existing Gifty, or pushes a new Gifty Object.</p>

<p>Type <code>new</code> will require server to <code>push</code> a new <em>Gifty Object</em> to the server.
Type <code>update</code> will require server to update existing <em>Gifty Object</em>. </p>

<p><strong>The Gifty Object must be updated at both /offers and in each /consoles/[console_id]/giftys/[gifty_uid]!</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>console_id</td>
<td>The console_id that contains all information specific to campaign</td>
</tr>
<tr>
<td>type</td>
<td>update_gifty</td>
</tr>
<tr>
<td>wait_for_response_at</td>
<td>/consoles/[console_id]/giftys/[gifty_id]</td>
</tr>
<tr>
<td>bundle</td>
<td>gifty: gifty_id, type: [new/update] value: [gifty_object]</td>
</tr>
</tbody></table>

<p><strong>Note: Gifty Object structure is yet to be determined. It will be very similar to what is existing</strong></p>
<h3 id='server-response-6'>Server Response</h3>
<p>if <code>bundle.type: new</code>, push Gifty Object.
if <code>bundle.type: update</code> update Gifty Object.</p>

<table><thead>
<tr>
<th>Write Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/consoles/[console_id]/giftys/[gifty_id]</td>
<td>Update/push with <code>[gifty_object]</code></td>
</tr>
<tr>
<td>/offers/[gifty_id]</td>
<td>Update/push with <code>[gifty_object]</code></td>
</tr>
</tbody></table>
<h1 id='do-not-use-errors'>DO NOT USE/Errors</h1>
<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files...just save them to the `includes` folder and add them to the top of your `index.md`'s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request sucks.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
